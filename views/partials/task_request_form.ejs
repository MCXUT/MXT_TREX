<style>
* {
  box-sizing: border-box;
}

.modal-body.mainmodal {
    padding: 1rem 0;
    background-color: #f0f1f2;
}
#regForm {
  background-color: inherit;
  font-family: Raleway;
  width: 100%;
  min-width: 300px;
  height: 350px;
  overflow-y: auto;
  padding: 10px 40px 0;
  margin: 0 auto;
}

h1 {
  text-align: center;
}

input {
  width: 100%;
  font-size: 17px;
  font-family: Raleway;
  border: 1px solid #aaaaaa;
}

/* Mark input boxes that gets an error on validation: */
input.invalid {
border:2px solid #e60000;
}

/* Hide all steps by default: */
.tab {
  display: none;
}
.modal-dialog{
}
#nextBtn{
  background-color: #f8ba00;
  color: #ffffff;
  border: none;
  padding: 10px 20px;
  font-size: 17px;
  font-family: Raleway;
  cursor: pointer;
}

#nextBtn:hover {
  opacity: 0.8;
  color:#2F3033;
}


#prevBtn{
  background-color: #bbbbbb;
  color: #ffffff;
  border: none;
  padding: 10px 20px;
  font-size: 17px;
  font-family: Raleway;
  cursor: pointer;
}
#prevBtn:hover{
  color: #2F3033;
}

/* Make circles that indicate the steps of the form: */
.stepbar {
    font-size: 0;
    background-color: #fff;
    height: 7px;
    border-radius: 10px;
    margin: 40px auto;
    width: 85%;
}
.step {
  font-size: 0;
  height: 7px;
  width: 0%;
  border: none;
  display: block;
  margin-bottom:50px;
  border-radius: 10px;
  transition: width 1s;
  max-width: 100%;
}
.step.finish {
    background-color: #f58b44;
}
.progression {
    display: none;
    font-size: 13px;
    margin-top: -40px;
}
.btn-list {
    margin: 1rem 40px;
    position: relative;
    height: 49.5px;
}

.btn-list #prevBtn, .btn-list #nextBtn {
    font-family: inherit;
    width: 100px;
    border-radius: 6px;
    position: absolute;
}
.btn-list #prevBtn {
    left: 0;
    background-color: white;
    color: #5a6175;
    border: 2px solid #f0f1f2;
}
.btn-list #prevBtn:hover {
    background-color: #fafafa;
}
.btn-list #nextBtn {
    right: 0;
    background-color: #f58b44;
    border: 2px solid #f58b44;
    color: white;
}

.FF400444 {
    color: red;
}


</style>




<link rel="stylesheet" href="/static/stylesheets/task-request-form.css">


<div class="modal fade text-center" id="myModal2" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-lg" style="width:650px;">
    <div class="modal-content">
    <div class="close1" onclick="secondmodalFunction()" style="color:#999999; z-index:1;"></div>
    <button id="closeAll" type="button" class="close" data-dismiss="modal" style="display:none;"></button>
         <div class="modal-body mainmodal">


             <div class="stepbar" style="text-align:center;">
               <span class="step" id="step"></span>
               <p class="progression"></p>
             </div>


         </div>
    <div class="btn-list">
        <span class="FF400444"></span>
        <button type="button" id="prevBtn" onclick="nextPrev(-1)">이전</button>
        <button type="button" id="nextBtn" onclick="nextPrev(1)">다음</button>
    </div>
    </div>
    </div>
</div>


<!-- Modal -->

<div class="modal fade" id="myModal3" role="dialog" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-sm" style="margin-top:12%;">
    <div class="modal-content">
      <div class="modal-header" style="display:none;">
        <br>
      </div>
      <div class="modal-body text-center">
        <br><br>
        <p style="font-size:23px;">정말 그만두시겠어요?</p>
      </div>
      <hr style="width:100%;">
      <div  class="text-center"> <!-- class="modal-footer " -->
        <button type="button" class="btn btn-default " onclick="closeAllModal();" style="height:50px;color:#999999;">그만 두기</button>
        <button type="button" id="button1" class="btn btn-default" onclick="gaesokFunction()" data-dismiss="modal">계속 하기</button>

        <br>
        <button id="closeAll2" type="button" data-dismiss="modal" style="display:none;"></button>
        <br>
      </div>

    </div>
  </div>
</div>



<script>
    document.getElementById("myModal3").addEventListener("click",(e) => {

        if(e.target.className != "modal-dialog modal-sm"){
          document.getElementById("myModal2").style.opacity="1.0";

        }

    });

    document.getElementById("myModal2").addEventListener("click",(e) => {
        if(e.target.className == "modal fade text-center show"){
            document.getElementById("myModal3").style.display="block";
            document.getElementById("myModal3").classList.add("show");
            document.getElementById("myModal2").style.opacity="0.8";
        }
      });




</script>

<script>
function closeAllModal(){
  document.getElementById('closeAll').click();
  // document.getElementById('closeAll2').click();
  document.getElementById("myModal3").style.display="none";
  document.getElementById('myModal2').style.opacity='1.0'
  $(".modal-backdrop").removeClass("show");
  $(".modal-backdrop").css("display", "none");
  document.querySelector(".step").style.width = 0;
  document.querySelector(".progression").innerHTML = "";
  $("#regForm").trigger('remove');
}
function gaesokFunction(){
    document.getElementById("myModal3").style.display="none";
    document.getElementById("myModal2").style.opacity="1.0";
}

function secondmodalFunction(){
    $("#myModal3").addClass("show");
    $("#myModal3").css("display", "block");

    document.getElementById("myModal2").style.opacity  = "0.8";
}

</script>
