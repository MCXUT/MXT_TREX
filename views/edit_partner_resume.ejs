<html>
    <head>
        <meta charset="utf-8">
        <style>
            .btn-primary:hover {
                cursor: pointer;
                background-color: #00b3db !important;
                border-color: #00b3db !important;
            }
            #avatar{
                border-radius: 50%;
                width: 45px;
                height: 45px;
                background-size: cover;
                margin: 0;
                 position: absolute;
                 top: 50%;
                 -ms-transform: translateY(-50%);
                 transform: translate3d(-50%,-50%,0);

            }
            .leftside, .rightside{
                width: 100%;
                /* border: 1px solid rgba(0, 0, 0, 0.5); */
                margin-bottom: 10px;
                z-index: 2;

            }
            #left{
              max-width: 25%;
            }
            #left, #right{
              height: 80px;
              padding: 10px;
            }
            #sliders a{
                text-decoration: none;
                color:black;
            }
            #wrapper{
              width: 50%;
              height: 550px;
              overflow-y:scroll;
              overflow-x: hidden;
              float:left;
              position: relative;
              margin:0;
              padding-left: 2.5%;
              padding-right: 2.5%;

            }
            #wrapper .row{
              border: 1px solid rgba(0, 0, 0, 0.3);
              width: 500px;
            }
            #wrapper h4{
              font-size: 20px;

            }
        </style>
        <title>Member - 트렉스</title>

        <% include ./partials/header %>
          <script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
          <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
          <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
          <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
    </head>
    <body>
        <% include ./partials/profileedit-image %>
        <% include ./partials/profileedit-background %>

        <% include ./partials/navbar %>


        <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/css/bootstrap-select.min.css">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/js/bootstrap-select.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/js/i18n/defaults-*.min.js"></script> -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.css" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.js"></script>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.8.0/css/bootstrap-datepicker.css" rel="stylesheet"/>


        <link rel="stylesheet" href="/static/stylesheets/profile.css">

        <div class="profile">
            <div class="tab">
                <div class="row top">
                    <div class="col-12">
                        <p class="setting">파트너 프로필 관리</p>
                        <div class="menu">
                            <a class="partnerprofileinfo profileactive" href="/user_profile/partnerProfile">프로필 관리</a>
                            <a class="taskreservationinfo" href="/user_profile/tasks">업무 예약 관리</a>
                            <a class="scheduleinfo" href="/user_profile/schedule">일정 관리</a>
                            <a class="messages" href="/user_profile/messages">메세지</a>
                            <a class="paymentinfo" href="/user_profile/payment_info">정산 계좌 등록</a>
                            <a class="accountinfo" href="/user_profile/account_info">계정관리</a>
                        </div>
                    </div>
                </div>
                <div class="row bottom">
                    <div class="col-md-4 col-12" style="padding:0% 0% 0% 5.2%;">
                        <div class="backgroundimg">
                            <% if (currentUser.coverPhoto) { %>
                                <img id="kokoman" src="/coverPhoto/<%= currentUser.coverPhoto %>">
                            <% } else { %>
                                <img id="kokoman" src="/static/images/slider/slider-4-montreal.jpg">
                            <% } %>
                            <div class="changefade">
                                배경 사진 바꾸기
                                <span class="camera"></span>
                            </div>
                        </div>

                        <div class="mainimg">
                        <% if (currentUser.profilePic) { %>
                            <img class="profileimg" src="/profilePic/<%= currentUser.profilePic %>">
                        <% } else { %>
                            <img class="profileimg" src="/static/images/noprofilepic.jpeg">
                        <% } %>
                            <div class="changeslider">
                                사진 바꾸기<br/>
                                <span class="camera"></span>
                            </div>
                        </div>

                        <p class="userName"><%= currentUser.name %></p>
                    </div>


                    <div class="col-md-8">

                        <div class="text-center">
                            <% if (profileInfo.type == "freelancer") { %>
                                <strong><big>프리랜서 프로필</big></strong>
                            <% } else { %>
                                <strong><big>에이전시 프로필</big></strong>
                            <% } %>
                        </div>
                        <form id="convertProfile" action="/convert_partnerProfile_type" method="post"></form>
                        <% if (profileInfo.type == "freelancer") { %>
                            <div class="text-right">
                                <button type="submit" class="btn btn-primary" form="convertProfile">에이전시 프로필로 전환</button>
                                <!-- <a href="convert_to_agency" class="btn btn-primary" role="button">에이전시 프로필로 전환</a> -->
                            </div>
                        <% } else { %>
                            <div class="text-right">
                                <button type="submit" class="btn btn-primary" form="convertProfile">프리랜서 프로필로 전환</button>
                            </div>
                        <% } %>


                        <form action="" method="post" enctype="multipart/form-data">
                            <div class="form-group row">
                                <div class="col-sm-5">
                                    <label for="oneLineIntro">한줄 소개 *</label>
                                </div>
                                <div class="col-sm-7">
                                    <input type="text" class="form-control" id="oneLineIntro" placeholder="클라이언트에게 본인 한줄 소개를 해주세요." value="<%= profileInfo.oneLineIntro %>">
                                </div>
                            </div>

                            <% if (profileInfo.type == "freelancer") { %>
                                <div class="form-group row">
                                    <div class="col-sm-5">성별 *</div>
                                    <div class="col-sm-7">
                                        <% if (profileInfo.gender == "M") { %>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" name="gender" id="male" value="M" checked>
                                                <label class="form-check-label" for="male">남자</label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" name="gender" id="female" value="F">
                                                <label class="form-check-label" for="female">여자</label>
                                            </div>
                                        <% } else { %>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" name="gender" id="male" value="M">
                                                <label class="form-check-label" for="male">남자</label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <input class="form-check-input" type="radio" name="gender" id="female" value="F" checked>
                                                <label class="form-check-label" for="female">여자</label>
                                            </div>
                                        <% } %>
                                    </div>
                                </div>
                            <% } else { %>
                                <div class="form-group row">
                                    <div class="col-sm-5">사업자 등록증 *</div>
                                    <div class="col-sm-7">
                                        <!-- <form id="" action="" method="post" enctype="multipart/form-data"></form> -->
                                              <div class="input-group">
                                                  <label class="input-group-btn">
                                                      <span class="btn btn-primary">
                                                          검색<input type="file" name="" accept="image/*" multiple="multiple" style="display:none;" required />
                                                      </span>
                                                  </label>
                                                  <input type="text" class="form-control" value="사업자 등록증을 업로드 해주세요." readonly>
                                              </div>
                                              <font size=2>파일은 사진으로만 업로드 해주세요 (.png, .jpg, .jpeg)<br>최대 3개까지 업로드 가능합니다.</font>
                                    </div>
                                </div>
                            <% } %>


                            <div class="form-group row">
                                <div class="col-sm-5">
                                    <label for="region" style="margin-right:70px;">지역 *</label>
                                </div>
                                <div class="col-sm-7">
                                    <select class="selectpicker" multiple data-live-search="true">
                                        <option>과테말라</option> 
                                        <option style="margin-left:20px;">과테말라시티</option> 
                                        <option>네덜란드</option>
 <option style="margin-left:20px;">암스테르담</option> 
                                        <option>노르웨이</option>
 <option style="margin-left:20px;">오슬로</option>
 <option>뉴질랜드</option> 
                                        <option style="margin-left:20px;">오클랜드</option>
 <option>대만</option>
 <option style="margin-left:20px;">타이페이</option> 
                                        <option>대한민국</option> 
                                        <option style="margin-left:20px;">대구</option> 
                                        <option style="margin-left:20px;">대전</option> 
                                        <option style="margin-left:20px;">부산</option> 
                                        <option style="margin-left:20px;">서울</option> 
                                        <option style="margin-left:20px;">울산</option> 
                                        <option style="margin-left:20px;">인천</option> 
                                        <option style="margin-left:20px;">제주</option> 
                                        <option>덴마크</option>
 <option style="margin-left:20px;">코펜하겐</option>
 <option>도미니카공화국</option>
 <option style="margin-left:20px;">산토도밍고</option>
 <option>독일</option> 
                                        <option style="margin-left:20px;">뮌헨</option> 
                                        <option style="margin-left:20px;">베를린</option> 
                                        <option style="margin-left:20px;">슈투트가르트</option> 
                                        <option style="margin-left:20px;">프랑크푸르트</option> 
                                        <option style="margin-left:20px;">함부르크</option> 
                                        <option>라오스</option>
 <option style="margin-left:20px;">비엔티안</option>
 <option>러시아</option>
 <option style="margin-left:20px;">모스크바</option>
 <option style="margin-left:20px;">상트페테르부르크</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group row">
                                <div class="col-sm-5">
                                    <label for="otherRegion">타 지역 업무 가능 여부 *</label>
                                </div>
                                <div class="col-sm-7">
                                    <select class="form-control" id="otherRegion">
                                      <option selected>타 지역 업무 가능 여부를 선택해주세요</option>
                                      <option value="">타 지역 업무 가능</option>
                                      <option value="">타 지역 업무 불가능</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group row">
                                <div class="col-sm-5">
                                    <label for="aboutMe">경력 소개 (필수 사항)</label>
                                </div>
                                <div class="col-sm-7">
                                    <textarea class="form-control" name="aboutMe" id="aboutMe" rows="12"><%= profileInfo.aboutMe %></textarea>
                                </div>
                            </div>


                            <!-- <div class="form-group row">
                                <div class="col-sm-5">
                                    <label for="aboutMe">업무 스케줄</label>
                                </div>
                                <div class="col-sm-7">
                                    <input type="text" name="unavailableDates" class="form-control date" placeholder="업무가 불가능한 날을 선택해주세요."/>
                                </div>
                            </div> -->





                            <div class="form-group">
                                <label for="exampleFormControlSelect1">Example select</label>
                                <select class="form-control" id="exampleFormControlSelect1">
                                  <option>1</option>
                                  <option>2</option>
                                  <option>3</option>
                                  <option>4</option>
                                  <option>5</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="exampleFormControlSelect2">Example multiple select</label>
                                <select multiple class="form-control" id="exampleFormControlSelect2">
                                  <option>1</option>
                                  <option>2</option>
                                  <option>3</option>
                                  <option>4</option>
                                  <option>5</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="exampleFormControlTextarea1">Example textarea</label>
                                <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
                            </div>
                        </form>

                    </div>

                </div>
            </div>
        </div>

    <script>
        $('.date').datepicker({
            multidate: true
        });

        $('select').selectpicker();

    </script>

    <script>
        // Script for file input (profile picture in this case) button and displaying the file name
        $(function() {
            // We can attach the `fileselect` event to all file inputs on the page
            $(document).on('change', ':file', function() {
                var input = $(this),
                numFiles = input.get(0).files ? input.get(0).files.length : 1,
                label = input.val().replace(/\\/g, '/').replace(/.*\//, '');
                input.trigger('fileselect', [numFiles, label]);
            });
            // We can watch for our custom `fileselect` event like this
            $(document).ready( function() {
                $(':file').on('fileselect', function(event, numFiles, label) {

                    if (numFiles > 3){
                        alert("최대 3개의 파일까지만 업로드 해주세요.");
                    } else {
                        var input = $(this).parents('.input-group').find(':text'),
                            log = numFiles > 1 ? numFiles + '개의 파일 선택됨' : label;
                        if( input.length ) {
                            input.val(log);
                        } else {
                            if( log ) alert(log);
                        }
                    }

                    // var input = $(this).parents('.input-group').find(':text'),
                    //   log = numFiles > 1 ? numFiles + ' files selected' : label;
                    //
                    // if( input.length ) {
                    //   input.val(log);
                    // } else {
                    //   if( log ) alert(log);
                    // }
                });
            });
        });
    </script>

    <script src="/static/scripts/changeimg.js"></script>
    <script src="/static/scripts/profileedit.js"></script>

    <% include ./partials/footer %>

    </body>
</html>
